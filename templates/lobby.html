{% extends "base.html" %}
{% block title %}Join Game â€” Citation Hallucination Game{% endblock %}

{% block content %}
<div class="lobby-container" id="lobbyApp">
    <!-- Join Form -->
    <div id="joinSection">
        <h2>Citation Hallucination Game</h2>
        <p>Enter the game code from your professor to join.</p>
        <div class="join-form">
            <div class="form-group">
                <label for="gameCode">Game Code</label>
                <input type="text" id="gameCode" placeholder="e.g. ABC123" maxlength="6"
                       style="text-transform: uppercase; font-size: 1.25rem; text-align: center; letter-spacing: 0.1em;"
                       value="{{ game_code or '' }}">
            </div>
            <div class="form-group">
                <label for="playerName">Your Name</label>
                <input type="text" id="playerName" placeholder="Enter your name">
            </div>
            <button class="btn btn-primary btn-block btn-lg" onclick="joinGame()">Join Game</button>
            <div id="joinError" class="hidden" style="color: var(--red); font-size: 0.875rem; margin-top: 0.75rem;"></div>
        </div>
    </div>

    <!-- Waiting Room -->
    <div id="waitingSection" class="hidden">
        <h2>You're In!</h2>
        <div id="waitingTeamInfo" class="mb-2"></div>
        <div class="waiting-message">Waiting for professor to start the game...</div>
        <div id="teamList" class="team-list"></div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/lobby.js') }}"></script>
{% endblock %}
